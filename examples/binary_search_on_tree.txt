# Binary Search on Tree
# Solution to D in Educational Codeforces Round 168 (Rated for Div. 2)
pass = isRoot ? param : par(pass) + max({par(pass) - val, 0})
ok = isLeaf ? (val >= pass ? 1 : 0) : min(children, ok)
ANS = bsearch(0, 1000000000, ok) + map(findNodes(isRoot),val)[0]